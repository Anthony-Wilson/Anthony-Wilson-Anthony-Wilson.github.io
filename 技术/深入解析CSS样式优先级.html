<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="深入分析CSS样式的优先级"><meta name="keywords" content="CSS"><meta name="author" content="踏浪"><meta name="copyright" content="踏浪"><meta name="google-site-verification" content="9yQKCditbXpx0d4kb3-ZBnz5x88H0Q2b2arCt_rSP4w"><meta name="baidu-site-verification" content="R8n93qV3hH"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141130158-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-141130158-1'，{ 'optimize_id': 'GTM-MRHV7JS'});</script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();
</script><title>深入解析CSS样式优先级 | 踏浪 - 前端技术分享</title><link rel="shortcut icon" href="/img/favicon-32x32.png"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-141130158-1', 'auto');
ga('require', 'GTM-MRHV7JS');
ga('send', 'pageview');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"7E70L82AL9","apiKey":"dafa357aaa50e7d9460158e4eb49cc90","indexName":"gitBlog","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#主要选择器的权重比较"><span class="toc-number">1.</span> <span class="toc-text">主要选择器的权重比较</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#其他类型选择器的权重比较"><span class="toc-number">2.</span> <span class="toc-text">其他类型选择器的权重比较</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#伪类的优先级"><span class="toc-number">2.1.</span> <span class="toc-text">伪类的优先级(:)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#属性选择器的优先级"><span class="toc-number">2.2.</span> <span class="toc-text">属性选择器的优先级</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#伪元素选择器"><span class="toc-number">2.3.</span> <span class="toc-text">伪元素选择器(::)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#子选择器-gt-，相邻兄弟选择器"><span class="toc-number">2.4.</span> <span class="toc-text">子选择器&gt;，相邻兄弟选择器+</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#结果总结"><span class="toc-number">3.</span> <span class="toc-text">结果总结</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#补充：2019年08月22日"><span class="toc-number">4.</span> <span class="toc-text">补充：2019年08月22日</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、使用max-width"><span class="toc-number">4.1.</span> <span class="toc-text">1、使用max-width</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、使用-transform-scale"><span class="toc-number">4.2.</span> <span class="toc-text">2、使用 transform:scale</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、使用-zoom"><span class="toc-number">4.3.</span> <span class="toc-text">3、使用 zoom</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、使用-js"><span class="toc-number">4.4.</span> <span class="toc-text">4、使用 js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、使用弹性盒模型"><span class="toc-number">4.5.</span> <span class="toc-text">5、使用弹性盒模型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、使用animation"><span class="toc-number">4.6.</span> <span class="toc-text">6、使用animation</span></a></li></ol></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.jpg"></div><div class="author-info__name text-center">踏浪</div><div class="author-info__description text-center">踏浪个人博客 -- 用代码震撼世界</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">69</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">39</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">3</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">友情链接</div><a class="author-info-links__name text-center" href="http://www.dreamwq.com">Mr.W</a><a class="author-info-links__name text-center" href="https://blog.cnbuilder.cn/">猿码优创</a><a class="author-info-links__name text-center" href="https://www.qqdeveloper.com/">浪子编程走四方</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/img/top-img.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">踏浪 - 前端技术分享</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a><a class="site-page" href="/">主页</a><a class="site-page" href="/archives">文章</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/tags/Flutter">Flutter</a></span></div><div id="post-info"><div id="post-title">深入解析CSS样式优先级</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-08-17</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/技术/">技术</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">2.9k</span><span class="post-meta__separator">|</span><span>阅读时长: 10 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>作为前端多多少少都会对CSS样式的权重有一定的了解。最常用的方法就是对不同的选择器分配不同的权重比，常见的就是</p>
<table>
<thead>
<tr>
<th style="text-align:center">选择器</th>
<th style="text-align:center">权重值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">!important标识</td>
<td style="text-align:center">10000</td>
</tr>
<tr>
<td style="text-align:center">行内样式</td>
<td style="text-align:center">1000</td>
</tr>
<tr>
<td style="text-align:center">id选择器</td>
<td style="text-align:center">100</td>
</tr>
<tr>
<td style="text-align:center">类选择器</td>
<td style="text-align:center">10</td>
</tr>
<tr>
<td style="text-align:center">标签选择器</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">通配符 *</td>
<td style="text-align:center">0</td>
</tr>
</tbody>
</table>
<p>具体的判断我们可以用一个矩阵来表示：(0, 0, 0, 0, 0)。那这里面的每一个矩阵的0表示的是</p>
<ul>
<li>第一个：<code>!important</code> 的个数</li>
<li>第二个：行内的个数</li>
<li>第三个：id选择器的个数</li>
<li>第四个：类选择器的个数</li>
<li>第五个：标签选择器的个数</li>
</ul>
<p>行内除了<code>!important</code>高于其他的样式。<strong>同时，这里的这个矩阵实际上是不存在的，是认为的构建出来的。</strong>因为<code>!important</code>始终最高，所以这里可以忽略第一个，最后矩阵为(0, 0, 0, 0)。</p>
<p>上面表格中是我们在写css样式的时候需要了解最的基本的知识，也是最为普通的选择器权重分配。权重值越高，权重越高，那么样式的优先级就越高。所以，<code>!important</code>的权重是最高的。正式因为这一点，所以<code>!important</code>在编写css样式的时候一般都不建议使用，因为使用了<code>!important</code>后，要想在修改样式，几乎是不可能的，即，样式会变得不好控制。</p>
<p>其次是行内样式。在现在前端开发中，为了更好的阅读代码，是代码调理更清晰，一般都会把CSS代码以及JS代码从HTML中分离，采用外链的方式引入CSS以及JS。所以，行内样式在一般的开发中，用的也不多。但是，在使用前端三大框架或者是需要使用JS来控制样式的时候，多多少少的都会涉及到把样式写在HTML元素行内的情况。</p>
<p>接着是ID选择器。在编写样式的时候，我们一般都不会使用ID选择器来控制样式，同时也不会在HTML文档中添加过多的ID选择器。ID选择器一般更多的是用于获取元素，而不是用来控制CSS样式。</p>
<p>再者是类选择器。这个在CSS样式的编写中用的算是最多的一种，因为一个标签可以添加多个类名，不像ID只能添加一个，编写不同的类名来控制不同的样式显示，同时根据权重来控制样式的覆盖。</p>
<p>然后是标签选择器，这个在开发中也是不建议使用，更多的是建议添加一个类名来控制，以实现复用，同时方便控制。</p>
<p>最后是通配符选择器，这个选择器的使用一般就是初始化文档结构。例如<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>但是更多的公司采取的是具有针对的样式重置，比如<a href="https://github.com/tal007/tools/blob/master/css/reset.css" target="_blank" rel="noopener">reset.css</a>。</p>
<p>以上就是常用的样式选择器以及他们的权重。</p>
<h2 id="主要选择器的权重比较"><a href="#主要选择器的权重比较" class="headerlink" title="主要选择器的权重比较"></a>主要选择器的权重比较</h2><p><strong>权重累加</strong></p>
<p>上面的权重值我们已经知道了，那么具体怎么来算呢？个人认为，需要记住一这点就OK了。<code>相同类型的权重值累加，然后在比较相同类型选择器的值</code>。举个🌰</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">class</span>=<span class="string">"box div"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#div</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-class">.div</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码中，来看看这个div盒子的颜色应该是什么呢？分析一下CSS样式：</p>
<p>根据上面的矩阵(0, 0, 0, 0)来分析。</p>
<p><code>#div</code>的矩阵为(0, 0, 1, 0, 0)，最后的权重值为：1*100 = 100。</p>
<p><code>div.div</code>的矩阵为(0, 0, 0, 1, 1)，最后的权重值为：1 <em> 10 + 1 </em>1 = 11。</p>
<p>所以最后的样式显示 <code>background: green;</code></p>
<p>有了这样的结论，我这里又做了一个测试。有下面的一段html代码与样式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box2"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box3"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box4"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box5"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box6"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box7"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box8"</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box9"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box10"</span> <span class="attr">class</span>=<span class="string">"box10"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#box10</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> <span class="selector-class">.box1</span> <span class="selector-class">.box2</span> <span class="selector-class">.box3</span> <span class="selector-class">.box4</span> <span class="selector-class">.box5</span> <span class="selector-class">.box6</span> <span class="selector-class">.box7</span> <span class="selector-class">.box8</span> <span class="selector-class">.box9</span> <span class="selector-class">.box10</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>按理说 <code>#box10</code> 的权重为 100 * 1 = 100</p>
<p><code>.box .box1 .box2 .box3 .box4 .box5 .box6 .box7 .box8 .box9 .box10</code> 的权重为 10 * 11 = 110</p>
<p>下面使用多个类的权重值理论上是高于上面只使用一个id选择器的情况，但是最后的结构却不是我们想象的那样。结果还是 <span style="color: green;">green</span> 。没错，后面的11个类的样式无效。经过这样的测试，我们可以猜想，在一个元素使用了ID选择器修饰了样式以后，如果在使用类选择器，这时候是是没有办法使相同的样式属性生效，生效的依然是那个ID选择器修饰的样式。为什么权重值大也没有用呢？我猜或许是因为写了太多类名的时候再和ID相比的话，浏览器会自己去判断，选择最优的那个，毕竟10多个类名在实际的开发中是不存在的。在张鑫旭大神的<a href="https://www.zhangxinxu.com/wordpress/2012/08/256-class-selector-beat-id-selector/" target="_blank" rel="noopener">有趣：256个class选择器可以干掉1个id选择器</a>有一个实验，但是这个实验室在2012年的时候，那个时候，还是使用的IE浏览器能够呈现出来。但是现在大部分的浏览器都不能够呈现出256个class干掉一个id的情况了。同时，也证明了，上面我们定义的矩阵(0, 0, 0, 0)其实并不严谨，id与class之前的差距我们这里以10作为一个标准，但是实际上可能达到100，或者1000。即1000个class干掉一个ID。但是由于现代编码一般要求class的层级书写的时候不要超过四层，所以，目前这个问题也就没有什么意义了。</p>
<p>因此，上面的矩阵也可以作为我们判断的标准。</p>
<h2 id="其他类型选择器的权重比较"><a href="#其他类型选择器的权重比较" class="headerlink" title="其他类型选择器的权重比较"></a>其他类型选择器的权重比较</h2><p>上面说了几种常用的选择器了，但是还有一些选择器也是在开发中会出现，但是不是太常用的一些选择器。那么，有哪些呢？</p>
<p>w3c中样式选择器的权重优先级的排序如下</p>
<blockquote>
<p>important &gt; 内嵌样式 &gt; ID &gt; 类 | 伪类 | 属性选择  &gt; 标签 | 伪元素 &gt; 伪对象 &gt; 继承 &gt; 通配符 | 子选择器 | 相邻选择器</p>
</blockquote>
<ul>
<li>伪类选择器，如<code>:hover</code></li>
<li>属性选择器，如<code>[type=&quot;text&quot;]</code></li>
<li>伪元素选择器，如<code>::first-letter</code></li>
<li>子选择器<code>&gt;</code>，相邻兄弟选择器<code>+</code>等等</li>
</ul>
<h3 id="伪类的优先级"><a href="#伪类的优先级" class="headerlink" title="伪类的优先级(:)"></a>伪类的优先级(:)</h3><p>首先来看看伪类选择器的优先级。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    div &#123;</span></span><br><span class="line"><span class="undefined">      margin-top: 10px;</span></span><br><span class="line"><span class="undefined">      height: 100px;</span></span><br><span class="line"><span class="undefined">      width: 100px;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box1</span> &#123;</span></span><br><span class="line"><span class="undefined">      background: lime;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="undefined">      background: pink;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box2</span> &#123;</span></span><br><span class="line"><span class="undefined">      background: red;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">class</span>=<span class="string">"box1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"box"</span> <span class="attr">class</span>=<span class="string">"box2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>上面的代码在<a href="https://codepen.io/Anthony-Wilson/pen/ZEzOeLW" target="_blank" rel="noopener">codePen</a>中的具体效果，可以看到</p>
<p><img src="https://pic-go-1253455210.cos.ap-chengdu.myqcloud.com/blog/伪类与类的优先级.gif" alt="伪类与类的优先级"></p>
<p>当将鼠标分别移动到两个div盒子上面的时候，前面的绿色盒子的背景色会发生变化，而红色盒子不会。但是，都是 <code>:hover</code> 的一盒伪类。所以判定，<strong>伪类的权重与类的权重是相同的</strong>。</p>
<h3 id="属性选择器的优先级"><a href="#属性选择器的优先级" class="headerlink" title="属性选择器的优先级"></a>属性选择器的优先级</h3><p>同样是上面的代码，我们把样式改为<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box1</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: purple;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[class="box1"]</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: lime;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[class="box2"]</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box2</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: purple;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>唯一不同的就是样式中添加了属性选择器<code>[class=&quot;box1&quot;]</code>与<code>[class=&quot;box2&quot;]</code>。同时顺序发生了改变。</p>
<p>代码可看[<a href="https://codepen.io/Anthony-Wilson/pen/YzKWZpL]https://codepen.io/Anthony-Wilson/pen/YzKWZpL" target="_blank" rel="noopener">https://codepen.io/Anthony-Wilson/pen/YzKWZpL]https://codepen.io/Anthony-Wilson/pen/YzKWZpL</a></p>
<p><img src="https://pic-go-1253455210.cos.ap-chengdu.myqcloud.com/blog/伪类，类与属性选择器的优先级.gif" alt="伪类，类与属性选择器的优先级">。</p>
<p>所以，<strong>属性选择的权重 = 类的权重 = 伪类的权重</strong>。三者是相等的，都是(0, 0, 1, 0);</p>
<h3 id="伪元素选择器"><a href="#伪元素选择器" class="headerlink" title="伪元素选择器(::)"></a>伪元素选择器(::)</h3><p>伪元素作为一种特殊的存在，我认为它不应该放在优先级里面同其他的选择器相比。比如 <code>::before</code> 和 <code>::after</code> 这两种伪元素都是在文档中添加一个假的元素，并不能够设置 id class 等属性。所以这里可以把它作为一个唯一的存在。那么他的权重我们可以看为1。同时没有和他比较的。</p>
<h3 id="子选择器-gt-，相邻兄弟选择器"><a href="#子选择器-gt-，相邻兄弟选择器" class="headerlink" title="子选择器&gt;，相邻兄弟选择器+"></a>子选择器<code>&gt;</code>，相邻兄弟选择器<code>+</code></h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.box1</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="undefined">      color: yellow;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box</span> &gt; <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="undefined">      color: blue;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.box2</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="undefined">      color: red;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box box1"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>我<span class="tag">&lt;/<span class="name">span</span>&gt;</span>是一个盒子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"box box2"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>我<span class="tag">&lt;/<span class="name">span</span>&gt;</span>是一个盒子<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>上面的例子在codePen中的<a href="https://codepen.io/Anthony-Wilson/pen/pozbPgP" target="_blank" rel="noopener">运行结果</a></p>
<p><img src="https://pic-go-1253455210.cos.ap-chengdu.myqcloud.com/blog/20190817170254.png" alt="运行结果"></p>
<p>可以看到，第一个我是蓝色，第二个我是红色。结合上面的代码，可以看出来子元素选择器和普通的空格其实没有太多的区别，同理兄弟选择器其实也是一样的。遇到这种情况，直接比较 class 与 标签的个数就可以了。即同基本的权重判断是相同的。</p>
<h2 id="结果总结"><a href="#结果总结" class="headerlink" title="结果总结"></a>结果总结</h2><p>经过上面的推想测试，可以大致的得出一个优先级的结论：</p>
<blockquote>
<p>!important &gt; ID &gt; class = 属性 = 伪类 &gt; 标签 &gt; 通配符 &gt; 继承 &gt; 浏览器自带属性</p>
</blockquote>
<p>在使用选择器的时候尽可能的选择使用 class选择器或者属性选择器（针对于input这一类）来对元素设置样式。一个是使用class可以复用，第二个可以更好的控制元素样式。同时，关于class命名的规范建议使用<a href="https://www.cnblogs.com/imwtr/p/8521031.html" target="_blank" rel="noopener">BEM</a>命名规范。</p>
<h2 id="补充：2019年08月22日"><a href="#补充：2019年08月22日" class="headerlink" title="补充：2019年08月22日"></a>补充：2019年08月22日</h2><p>在网上看到这样的一道题</p>
<p>问题：已知如下代码，如何修改才能让图片宽度为 300px ？注意下面代码不可修改。</p>
<blockquote>
<p>&lt;img src=”1.jpg” style=”width:480px!important;”&gt;</p>
</blockquote>
<p>期初看到这段代码一下子就想到这都 <code>!important</code> 了还有办法限制它的宽度？真的是被无知限制了想象力。</p>
<p>这里提供几种方法实现修改宽度：</p>
<h3 id="1、使用max-width"><a href="#1、使用max-width" class="headerlink" title="1、使用max-width"></a>1、使用max-width</h3><p>虽然使用了 <code>important</code> ，但是也只是添加到了 <code>width</code> 属性上面，并不影响 max-width 。所以这里设置了 max-width 即可生效。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2、使用-transform-scale"><a href="#2、使用-transform-scale" class="headerlink" title="2、使用 transform:scale"></a>2、使用 transform:scale</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scaleX</span>(0.625);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3、使用-zoom"><a href="#3、使用-zoom" class="headerlink" title="3、使用 zoom"></a>3、使用 zoom</h3><p>这个和CSS3的缩放是一样的效果</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">zoom</span>: <span class="number">0.625</span>：</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4、使用-js"><a href="#4、使用-js" class="headerlink" title="4、使用 js"></a>4、使用 js</h3><p>这个和CSS3的缩放是一样的效果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementsByTagName(<span class="string">"img"</span>)[<span class="number">0</span>].setAttribute(<span class="string">"style"</span>,<span class="string">"width:300px!important;"</span>)</span><br></pre></td></tr></table></figure>
<h3 id="5、使用弹性盒模型"><a href="#5、使用弹性盒模型" class="headerlink" title="5、使用弹性盒模型"></a>5、使用弹性盒模型</h3><p>这个和CSS3的缩放是一样的效果</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">90px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="6、使用animation"><a href="#6、使用animation" class="headerlink" title="6、使用animation"></a>6、使用animation</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: width <span class="number">0s</span> forwards;</span><br><span class="line">&#125;</span><br><span class="line">@<span class="keyword">keyframes</span> width &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">踏浪</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://blog.lyt007.cn/技术/深入解析CSS样式优先级.html">https://blog.lyt007.cn/技术/深入解析CSS样式优先级.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.lyt007.cn">踏浪 - 前端技术分享</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/CSS/">CSS</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">支付宝</div></div><div class="post-qr-code-item"><img class="post-qr-code__img" src="/img/wechatpay.png"><div class="post-qr-code__desc">微信打赏</div></div></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cdd1b7c28eeaa67" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/技术/通过自己实现函数-call-apply-bind-来了解他们的原理.html"><i class="fa fa-chevron-left">  </i><span>通过自己实现函数 call,apply,bind 来了解他们的原理</span></a></div><div class="next-post pull-right"><a href="/技术/使用socket实现即时通讯聊天室.html"><span>使用socket实现即时通讯聊天室</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="lv-container" data-id="city" data-uid="MTAyMC80MzU5OC8yMDEzNw=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></div><footer class="footer-bg" style="background-image: url(/img/top-img.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2020 By 踏浪</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">蜀ICP备19000202号</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div><script>var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1271259829'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s13.cnzz.com/z_stat.php%3Fid%3D1271259829%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script src="/js/search/algolia.js"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>