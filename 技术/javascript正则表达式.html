<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="JavaScript正则表达式的介绍以及使用"><meta name="keywords" content="js"><meta name="author" content="踏浪"><meta name="copyright" content="踏浪"><meta name="google-site-verification" content="9yQKCditbXpx0d4kb3-ZBnz5x88H0Q2b2arCt_rSP4w"><meta name="baidu-site-verification" content="R8n93qV3hH"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-141130158-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-141130158-1'，{ 'optimize_id': 'GTM-MRHV7JS'});</script><script>(function(){
  var bp = document.createElement('script');
  var curProtocol = window.location.protocol.split(':')[0];
  if (curProtocol === 'https') {
    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
  }
  else {
    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
  }
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(bp, s);
})();
</script><title>javascript正则表达式 | 踏浪 - 前端技术分享</title><link rel="shortcut icon" href="/img/favicon-32x32.png"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer></script><link rel="dns-prefetch" href="https://www.google-analytics.com"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-141130158-1', 'auto');
ga('require', 'GTM-MRHV7JS');
ga('send', 'pageview');</script><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"7E70L82AL9","apiKey":"dafa357aaa50e7d9460158e4eb49cc90","indexName":"gitBlog","hits":{"per_page":10},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容:${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  }
} </script></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#正则表达式概念"><span class="toc-number">1.</span> <span class="toc-text">正则表达式概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#正则表达式的基本语法"><span class="toc-number">2.</span> <span class="toc-text">正则表达式的基本语法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#正则的规则分类"><span class="toc-number">3.</span> <span class="toc-text">正则的规则分类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#正则表达式基础"><span class="toc-number">3.0.1.</span> <span class="toc-text">正则表达式基础</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#正则表达式字符类"><span class="toc-number">3.0.2.</span> <span class="toc-text">正则表达式字符类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#正则表达式量词"><span class="toc-number">3.0.3.</span> <span class="toc-text">正则表达式量词</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#正则表达式捕获组与非捕获组"><span class="toc-number">3.0.4.</span> <span class="toc-text">正则表达式捕获组与非捕获组</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#捕获组"><span class="toc-number">3.0.4.1.</span> <span class="toc-text">捕获组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#非捕获组"><span class="toc-number">3.0.4.2.</span> <span class="toc-text">非捕获组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Y"><span class="toc-number">3.0.4.3.</span> <span class="toc-text">\Y</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#正则表达式断言"><span class="toc-number">3.0.5.</span> <span class="toc-text">正则表达式断言</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#，-的使用"><span class="toc-number">3.0.5.1.</span> <span class="toc-text">^，$的使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#b，-B的使用"><span class="toc-number">3.0.5.2.</span> <span class="toc-text">\b，\B的使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#积极的前瞻-…-积极的前瞻-匹配后面是-…-的位置，不捕获匹配结果"><span class="toc-number">3.0.5.3.</span> <span class="toc-text">积极的前瞻 (?=…) 积极的前瞻 匹配后面是 … 的位置，不捕获匹配结果</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#消极的前瞻-…-消极的前瞻-匹配后面不是-…-的位置，不捕获匹配结果"><span class="toc-number">3.0.5.4.</span> <span class="toc-text">消极的前瞻 (?!…) 消极的前瞻 匹配后面不是 … 的位置，不捕获匹配结果</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#正则表达式特殊字符"><span class="toc-number">3.0.6.</span> <span class="toc-text">正则表达式特殊字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#正则表达式替换"><span class="toc-number">3.0.7.</span> <span class="toc-text">正则表达式替换</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#：插入"><span class="toc-number">3.0.7.1.</span> <span class="toc-text">$$：插入$</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#amp-：插入整个匹配"><span class="toc-number">3.0.7.2.</span> <span class="toc-text">$&amp;：插入整个匹配</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#：插入匹配项前面的字符串"><span class="toc-number">3.0.7.3.</span> <span class="toc-text">$`：插入匹配项前面的字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#39-：插入匹配项后面的字符串"><span class="toc-number">3.0.7.4.</span> <span class="toc-text">$&#39;：插入匹配项后面的字符串</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Y：插入第Y个捕获的组"><span class="toc-number">3.0.7.5.</span> <span class="toc-text">$Y：插入第Y个捕获的组</span></a></li></ol></li></ol></li></ol><li class="toc-item toc-level-2"><a class="toc-link" href="#正则表达式实例的方法"><span class="toc-number">4.</span> <span class="toc-text">正则表达式实例的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#exec-最主要的方法"><span class="toc-number">4.0.1.</span> <span class="toc-text">exec()    最主要的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#test-方法"><span class="toc-number">4.0.2.</span> <span class="toc-text">test()方法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#关于使用RegExp构造函数"><span class="toc-number">5.</span> <span class="toc-text">关于使用RegExp构造函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#附上几个常用的正则匹配"><span class="toc-number">6.</span> <span class="toc-text">附上几个常用的正则匹配</span></a></li></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.jpg"></div><div class="author-info__name text-center">踏浪</div><div class="author-info__description text-center">踏浪个人博客 -- 用代码震撼世界</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">66</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">38</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">分类</span><span class="pull-right">3</span></a></div><hr><div class="author-info-links"><div class="author-info-links__title text-center">友情链接</div><a class="author-info-links__name text-center" href="http://www.dreamwq.com">Mr.W</a><a class="author-info-links__name text-center" href="https://blog.cnbuilder.cn/">猿码优创</a><a class="author-info-links__name text-center" href="https://mazongdiulejinguzhou.github.io/">马总丢了紧箍咒</a><a class="author-info-links__name text-center" href="https://www.qqdeveloper.com/">浪子编程走四方</a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(/img/top-img.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">踏浪 - 前端技术分享</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a><a class="site-page" href="/">主页</a><a class="site-page" href="/archives">文章</a><a class="site-page" href="/tags">标签</a><a class="site-page" href="/categories">分类</a><a class="site-page" href="/tags/Flutter">Flutter</a></span></div><div id="post-info"><div id="post-title">javascript正则表达式</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2018-12-27</time><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/技术/">技术</a><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">4.1k</span><span class="post-meta__separator">|</span><span>阅读时长: 15 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>正则表达式一直是一个令人头疼但却又是十分重要的一个东西。熟练的使用正则表达式可以让你的工作事半功倍。接下来，一起来看看正则表达式是什么吧！</p>
<h2 id="正则表达式概念"><a href="#正则表达式概念" class="headerlink" title="正则表达式概念"></a>正则表达式概念</h2><p><strong>正则表达式，又称规则表达式。</strong>（英语：Regular Expression，在代码中常简写为regex、regexp或RE），计算机科学的一个概念。正则表通常被用来检索、替换那些符合某个模式(规则)的文本。</p>
<h2 id="正则表达式的基本语法"><a href="#正则表达式的基本语法" class="headerlink" title="正则表达式的基本语法"></a>正则表达式的基本语法</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/ pattern /</span> flags;</span><br></pre></td></tr></table></figure>
<p>就像上面的，正则表达式是由两个<code>/</code>符号包裹起来的，两个<code>/</code>里面的（上面的pattern）就是需要的任何简单或者是复杂的正则表达式。而在第二个<code>/</code>后面是一个或者是多个标志（flags），用来标明正则表达式的行为。<br><strong>flags</strong>有以下五种行为：</p>
<ul>
<li>g：表示全局（global）模式，即在匹配到第一个后继续匹配</li>
<li>i：忽略（ignore）大小写</li>
<li>m：便是多行（multiline）模式，即到达一行时继续查找下一行</li>
<li>y：(ES6新增的粘连修饰符)</li>
<li><p>u：(ES6新增)</p>
<h2 id="正则的规则分类"><a href="#正则的规则分类" class="headerlink" title="正则的规则分类"></a>正则的规则分类</h2><p>下面根据<a href="https://www.debuggex.com/cheatsheet/regex/javascript" title="JavaScript正则表达式的速查表" target="_blank" rel="noopener">JavaScript正则表达式的速查表</a>中的分类来对每一下进行一个说明。</p>
<h4 id="正则表达式基础"><a href="#正则表达式基础" class="headerlink" title="正则表达式基础"></a>正则表达式基础</h4><p>基础里面呢主要有<code>6</code>需要记忆的东西，分别是：</p>
</li>
<li><p><code>.</code>：匹配除了换行以外其他所有字符</p>
</li>
<li><code>a</code>：匹配字符<code>a</code>，衍生为匹配单个字母</li>
<li><code>ab</code>：匹配字符串<code>ab</code>，衍生为匹配字符串</li>
<li><code>a|b</code>：匹配<code>a或者b</code>，就是或者的意思</li>
<li><code>a*</code>：匹配0次或者是多次<code>a</code></li>
<li><code>\</code>：转义符号，转义一个特殊的字符</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `.`的使用</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/./g</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcdefg"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (7) ["a", "b", "c", "d", "e", "f", "g"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `a`的使用</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/A/gi</span>; <span class="comment">// 全局匹配。忽略大小写</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcdefg"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (7) ["a"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `ab`的使用</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/AbCdef/gi</span>; <span class="comment">// 全局匹配。忽略大小写</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcdefg"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (7) ["abcdef"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `a|b`的使用 一</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a|b|c|d/</span>; <span class="comment">// 非全局匹配。</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcdefg"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["a", index: 0, input: "abcdefg"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `a|b`的使用 二</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a|b|c|d/g</span>; <span class="comment">// 全局匹配。</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcdefg"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (4) ["a", "b", "c", "d"]。使用全局匹配。会在匹配对后继续匹配</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `a*`的使用</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a*/</span>; </span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcdcba"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["a", index: 0, input: "abcdcba"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `a*`的使用</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a*/g</span>; <span class="comment">// 全局匹配。</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcdcba"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (8) ["a", "", "", "", "", "", "a", ""]。使用全局匹配会把之后没有匹配到的转化为空字符串</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `\`的使用  回到第一个 . 的使用那里。如果我把 . 前面加一个 \ 符号，那么这个点就是一个普通的点了</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\./g</span>; <span class="comment">// 全局匹配。</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcdefg"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// null</span></span><br></pre></td></tr></table></figure>
<p>JavaScript中需要使用 <code>\</code> 的特殊符号有：<code>(</code>   <code>)</code>   <code>[</code>   <code>]</code>   <code>{</code>   <code>}</code>   <code>.</code>   <code>|</code>   <code>+</code>  <code>*</code>  <code>?</code>   <code>\</code>  <code>^</code>   <code>$</code>     以及 <code>空白</code> 。</p>
<h4 id="正则表达式字符类"><a href="#正则表达式字符类" class="headerlink" title="正则表达式字符类"></a>正则表达式字符类</h4><ul>
<li><code>[ab-d]</code>：a，b，c，d四个字符中的一个，衍生为使用<code>[]</code>，那就是匹配其中的一个</li>
<li><code>[^ab-d]</code>：除了a，b，c，d四个字符其他的任意字符，衍生为使用<code>[^]</code>可以排除[]里面的东西</li>
<li><code>[\b]</code>：退格字符，了解</li>
<li><code>\d</code>：一个0-9的数字</li>
<li><code>\D</code>：一个非数字</li>
<li><code>\s</code>：一个空白字符</li>
<li><code>\S</code>：一个非空白字符</li>
<li><code>\w</code>：匹配一个字母，数字或者是下划线</li>
<li><code>\W</code>：匹配一个除字母,数字,下划线之外的任意字符</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `[a-z]`的使用</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]/g</span>; <span class="comment">// 全局匹配。匹配 a-z 的任意一个，因为是全局匹配。所以会一直找。但是不会有 1234</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (4) ["a", "b", "c", "d"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `[a-z]`的使用</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[^a-z]/g</span>; <span class="comment">// 全局匹配。匹配 除了 a-z 的任意一个。所以是 1 2 3 4。因为是全局匹配。所以会一直找</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (4) ["1", "2", "3", "4"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `[\b]`的使用</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[\b]/g</span>; <span class="comment">// 全局匹配。匹配 \b，当然也可以匹配其他的特殊转义字符，见 正则表达式特殊字符</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd\b1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (4) ["1", "2", "3", "4"]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `\d`,`\D`,`\s`,`\S`,`\w`,`\W`的使用</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\D\d/g</span>; <span class="comment">// 全局匹配。匹配一个非数字与一个数字。两者紧靠在一起  注意顺序</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["d1"]</span></span><br><span class="line"><span class="comment">// 如果是下面的一个，则匹配 null</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\D\d/g</span>; <span class="comment">// 全局匹配。匹配一个数字与一个非数字。两者紧靠在一起  注意顺序</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// null</span></span><br><span class="line"><span class="comment">// 匹配一个</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\D\s\w\d/g</span>; <span class="comment">// 全局匹配。注意顺序  注意大小写</span></span><br><span class="line"><span class="keyword">var</span> text1 = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> text2 = <span class="string">"abcd _1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res1 = text1.match(reg);</span><br><span class="line"><span class="keyword">var</span> res2 = text2.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res1); <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(res2); <span class="comment">// ["d _1"]</span></span><br></pre></td></tr></table></figure>
<h4 id="正则表达式量词"><a href="#正则表达式量词" class="headerlink" title="正则表达式量词"></a>正则表达式量词</h4><ul>
<li><code>*</code>：匹配<code>0次</code>或者<code>多次</code>。等价于<code>{0,}</code></li>
<li><code>+</code>：匹配<code>一次</code>或者<code>多次</code>。等价于<code>{1,}</code></li>
<li><code>?</code>：匹配<code>0次</code>或者<code>一次</code>。等价于<code>{0,1}</code></li>
<li><code>{2}</code>：只匹配<code>2</code>次</li>
<li><code>{2, 5}</code>：匹配<code>2-5</code>次</li>
<li><code>{2,}</code>：匹配<code>2次</code>或者<code>多次</code></li>
</ul>
<p>这里涉及到一个<code>贪婪匹配</code>与<code>非贪婪匹配</code>。<br><code>贪婪匹配</code>指的是使用以上量词的时候会按照最大次数进行匹配。<br><code>非贪婪匹配</code>则是按最小次数进行匹配。</p>
<p>使用非贪婪匹配只需在两次后面加上一个<code>?</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `*`的使用</span></span><br><span class="line"><span class="comment">// 非全局匹配。</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]*/</span>; <span class="comment">// 匹配 a-z 的0个或者多个</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["abcd", index: 0, input: "abcd1234"]</span></span><br><span class="line"><span class="comment">// 全局匹配。</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]*/g</span>; <span class="comment">// 匹配 a-z 的0个或者多个</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (6) ["abcd", "", "", "", "", ""]。当匹配为 0 个的时候，会变成空字符串。对比 + 号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `+`的使用</span></span><br><span class="line"><span class="comment">// 非全局匹配。</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]+/</span>; <span class="comment">// 匹配 a-z 的0个或者多个</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["abcd", index: 0, input: "abcd1234"]</span></span><br><span class="line"><span class="comment">// 全局匹配。</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]+/g</span>; <span class="comment">// 匹配 a-z 的0个或者多</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["abcd"]。因为至少匹配一个，所以不会有空字符串。对比 * 号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// `?`的使用</span></span><br><span class="line"><span class="comment">// 非全局匹配。</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]?/</span>; <span class="comment">// 匹配 a-z 的0个或者一个</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["a", index: 0, input: "abcd1234"]。匹配到一个就停下来</span></span><br><span class="line"><span class="comment">// 全局匹配。</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]?/g</span>; <span class="comment">// 匹配 a-z 的0个或者一个</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["a", "b", "c", "d", "", "", "", "", ""]。abcd匹配到了。1234则是空字符串。</span></span><br></pre></td></tr></table></figure>
<p>以上说的都属于<code>贪婪匹配</code>。都是按最多个匹配的。如果是<code>非贪婪匹配</code>。则是按照最少的次数匹配。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// `*`的使用</span></span><br><span class="line"><span class="comment">// 非全局匹配。贪婪匹配</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]*/</span>; <span class="comment">// 匹配 a-z 的0个或者多个</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["abcd", index: 0, input: "abcd1234"]</span></span><br><span class="line"><span class="comment">// 全局匹配。贪婪匹配</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]*/g</span>; <span class="comment">// 匹配 a-z 的0个或者多个</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (6) ["abcd", "", "", "", "", ""]。当匹配为 0 个的时候，会变成空字符串。对比 + 号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 非全局匹配。非贪婪匹配</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]*?/</span>; <span class="comment">// 匹配 a-z 的0个或者多个</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["", index: 0, input: "abcd1234"]</span></span><br><span class="line"><span class="comment">// 全局匹配。非贪婪匹配</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/[a-z]*?/g</span>; <span class="comment">// 匹配 a-z 的0个或者多个</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (9) ["", "", "", "", "", "", "", "", ""]</span></span><br></pre></td></tr></table></figure>
<p>以上就是<code>贪婪匹配</code>与<code>非贪婪匹配</code>的区别。不过不管是如何。在匹配是<code>0</code>次的时候。空字符串的<code>个数</code>总是匹配不成功部分的字符串的<code>长度+1</code></p>
<h4 id="正则表达式捕获组与非捕获组"><a href="#正则表达式捕获组与非捕获组" class="headerlink" title="正则表达式捕获组与非捕获组"></a>正则表达式捕获组与非捕获组</h4><ul>
<li><code>(...)</code>：捕获组</li>
<li><code>(?...)</code>：非捕获组</li>
<li><code>\Y</code>：匹配第Y个被捕获的组（也称<code>反向引用</code>）。其中<code>Y</code>是一个数字，这个数组取值范围是<code>*</code>，即<code>{0,}</code>。但是建议<code>反向引用</code>不要索引大于9的捕获性分组。<h5 id="捕获组"><a href="#捕获组" class="headerlink" title="捕获组"></a>捕获组</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/ab(cd(1234))/</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (3) ["abcd1234", "cd1234", "1234", index: 0, input: "abcd1234"]</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>分析：</p>
<ol>
<li>捕获组就是在匹配 <code>()</code>外面的字符之后在匹配 <code>()</code> 里面的。结果中的 “abcd1234”</li>
<li>捕获组里面还有捕获组会先忽略里面的捕获组匹配在一次匹配里面的捕获组。结果中的<code>&quot;cd1234&quot;</code>与<code>&quot;1234&quot;</code></li>
</ol>
<h5 id="非捕获组"><a href="#非捕获组" class="headerlink" title="非捕获组"></a>非捕获组</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/ab(?:cd(1234))/</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (3) ["abcd1234", "1234", index: 0, input: "abcd1234"]</span></span><br></pre></td></tr></table></figure>
<p>分析：非捕获组就是不捕获，就行上面的结果中没有了<code>&quot;cd1234&quot;</code></p>
<p><strong>那么捕获与非捕获有什么区别呢？</strong> 记得看宠物小精灵的时候小智看见新的小精灵扔球抓小精灵的时候就属于一个捕获，如果看见不扔球那就是不捕获。那捕获和不捕获有什么区别呢？就行抓小精灵一样，抓住了之后就可以用了嘛！所以被捕获的东西之后是可以使用的。<strong>那么怎么使用呢？</strong> 问得好。这时候就需要使用到<code>\Y</code> 了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/(a)/</span>;</span><br><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/(a)\1/</span>; <span class="comment">// 相当于是 /(a)a/</span></span><br><span class="line"><span class="keyword">var</span> text1 = <span class="string">"aabb1234"</span>;</span><br><span class="line"><span class="keyword">var</span> text2 = <span class="string">"aabb1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res1 = text1.match(reg1);</span><br><span class="line"><span class="keyword">var</span> res2 = text2.match(reg2);</span><br><span class="line"><span class="built_in">console</span>.log(res1); <span class="comment">// ["a", "a", index: 0, input: "aabb1234"]</span></span><br><span class="line"><span class="built_in">console</span>.log(res2); <span class="comment">// ["aa", "a", index: 0, input: "aabb1234"]</span></span><br></pre></td></tr></table></figure>
<p>上面的例子中，<code>reg1</code> 与 <code>reg2</code> 仅仅有一点不同。但是匹配后的东西是不同的。简单地说，就是，使用 <code>\Y</code> 后会赋值第Y个捕获的组。以下代码说明通过<code>$Y</code>来接收相应的捕获组。不能从0开始</p>
<h5 id="Y"><a href="#Y" class="headerlink" title="\Y"></a><code>\Y</code></h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/ab(cd(1234))/</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (3) ["abcd1234", "cd1234", "1234", index: 0, input: "abcd1234"]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">0</span>); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">1</span>); <span class="comment">// cd1234</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">RegExp</span>.$<span class="number">2</span>); <span class="comment">// 1234</span></span><br><span class="line"><span class="keyword">var</span> res1 = text.replace(reg,<span class="string">"$1$2"</span>); <span class="comment">// 使用 $1 $2 取出捕获组的内容</span></span><br><span class="line"><span class="built_in">console</span>.log(res1); <span class="comment">// cd12341234</span></span><br></pre></td></tr></table></figure>
<h4 id="正则表达式断言"><a href="#正则表达式断言" class="headerlink" title="正则表达式断言"></a>正则表达式断言</h4><ul>
<li><code>^</code>：字符串的开始必须是</li>
<li><code>$</code>：字符串的结尾必须是</li>
<li><code>\b</code>：匹配文字（单词）边界</li>
<li><code>\B</code>：非文字（单词）边界</li>
<li><code>(?=...)</code>：积极的前瞻（也叫前瞻或者是顺序肯定环视）</li>
<li><code>(?!...)</code>：消极的前瞻（也加后瞻或者是顺序否定环视）</li>
</ul>
<h5 id="，-的使用"><a href="#，-的使用" class="headerlink" title="^，$的使用"></a><code>^</code>，<code>$</code>的使用</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^b.*\d$/</span>; <span class="comment">// 要求字符 b 开头，中间 * 个任意字符（除换行符），必须以数字结束</span></span><br><span class="line"><span class="keyword">var</span> text1 = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> text2 = <span class="string">"bcd"</span>;</span><br><span class="line"><span class="keyword">var</span> text3 = <span class="string">"bcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res1 = text1.match(reg);</span><br><span class="line"><span class="keyword">var</span> res2 = text2.match(reg);</span><br><span class="line"><span class="keyword">var</span> res3 = text3.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res1); <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(res2); <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(res3); <span class="comment">// ["bcd1234", index: 0, input: "bcd1234"]</span></span><br></pre></td></tr></table></figure>
<h5 id="b，-B的使用"><a href="#b，-B的使用" class="headerlink" title="\b，\B的使用"></a><code>\b</code>，<code>\B</code>的使用</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\bhi\b/</span>; <span class="comment">// </span></span><br><span class="line"><span class="keyword">var</span> text1 = <span class="string">"hi"</span>; </span><br><span class="line"><span class="keyword">var</span> text2 = <span class="string">"him"</span>; </span><br><span class="line"><span class="keyword">var</span> text3 = <span class="string">"history"</span>;</span><br><span class="line"><span class="keyword">var</span> res1 = text1.match(reg);</span><br><span class="line"><span class="keyword">var</span> res2 = text2.match(reg);</span><br><span class="line"><span class="keyword">var</span> res3 = text3.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res1); <span class="comment">// ["hi", index: 0, input: "hi"]</span></span><br><span class="line"><span class="built_in">console</span>.log(res2); <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(res3); <span class="comment">// null</span></span><br></pre></td></tr></table></figure>
<h5 id="积极的前瞻-…-积极的前瞻-匹配后面是-…-的位置，不捕获匹配结果"><a href="#积极的前瞻-…-积极的前瞻-匹配后面是-…-的位置，不捕获匹配结果" class="headerlink" title="积极的前瞻 (?=…) 积极的前瞻 匹配后面是 … 的位置，不捕获匹配结果"></a>积极的前瞻 (?=…) 积极的前瞻 匹配后面是 … 的位置，不捕获匹配结果</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/abcd(?=1234)/</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> text1 = <span class="string">"abcdefg"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="keyword">var</span> res1 = text1.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res) <span class="comment">// ["abcd", index: 0, input: "abcd1234"]</span></span><br><span class="line"><span class="built_in">console</span>.log(res1) <span class="comment">// null</span></span><br></pre></td></tr></table></figure>
<p>看上面的例子可以看出积极的前瞻匹配<code>1234</code>前面的<code>abcd</code>，不匹配<code>def</code>前面的<code>abcd</code>；而消极的前瞻恰恰相反，看下面的例子。</p>
<h5 id="消极的前瞻-…-消极的前瞻-匹配后面不是-…-的位置，不捕获匹配结果"><a href="#消极的前瞻-…-消极的前瞻-匹配后面不是-…-的位置，不捕获匹配结果" class="headerlink" title="消极的前瞻 (?!…) 消极的前瞻 匹配后面不是 … 的位置，不捕获匹配结果"></a>消极的前瞻 (?!…) 消极的前瞻 匹配后面不是 … 的位置，不捕获匹配结果</h5><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">reg</span> = /abcd(?!=1234)/;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> text1 = <span class="string">"abcdefg"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.<span class="built_in">match</span>(<span class="keyword">reg</span>);</span><br><span class="line"><span class="keyword">var</span> res1 = text1.<span class="built_in">match</span>(<span class="keyword">reg</span>);</span><br><span class="line">console.<span class="built_in">log</span>(res) <span class="comment">// null</span></span><br><span class="line">console.<span class="built_in">log</span>(res1) <span class="comment">// ["abcd", index: 0, input: "abcd1234"]</span></span><br></pre></td></tr></table></figure>
<h4 id="正则表达式特殊字符"><a href="#正则表达式特殊字符" class="headerlink" title="正则表达式特殊字符"></a>正则表达式特殊字符</h4><ul>
<li><code>\n</code>：换行符</li>
<li><code>\r</code>：回车符</li>
<li><code>\t</code>：制表符</li>
<li><code>\0</code>：空字符</li>
<li><code>\YYY</code>：8进制字符</li>
<li><code>\xYY</code>：十六进制字符</li>
<li><code>\uYYYY</code>：十六进制字符</li>
<li><code>\cY</code>：控制符<br>正则的特殊字符在实际中运用的比较少，具体的用法与之前讲到的<code>[\b]</code>类似。上面的两个<code>十六进制字符</code>中，<code>\xYY</code>主要匹配数字字母等。而<code>\uYYYY</code>则是为了匹配汉字以及以下特殊的符号。</li>
</ul>
<h4 id="正则表达式替换"><a href="#正则表达式替换" class="headerlink" title="正则表达式替换"></a>正则表达式替换</h4><p>正则表达式替换主要是替换一些字符。主要以下几个，可是在<code>replace</code>中使用。</p>
<ul>
<li><code>$$</code>：插入<code>$</code></li>
<li><code>$&amp;</code>：插入整个匹配</li>
<li>$`：插入匹配项前面的字符串</li>
<li><code>$&#39;</code>：插入匹配项后面的字符串</li>
<li><code>$Y</code>：插入第Y个捕获的组</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/.&#123;2&#125;水(.)/</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"君子之交淡如水，小人之交甘若醴"</span>;</span><br><span class="line"><span class="keyword">var</span> res = text.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// (2) ["淡如水，", "，", index: 4, input: "君子之交淡如水，小人之交甘若醴"]</span></span><br></pre></td></tr></table></figure>
<h5 id="：插入"><a href="#：插入" class="headerlink" title="$$：插入$"></a><code>$$</code>：插入<code>$</code></h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/.&#123;2&#125;水(.)/</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"君子之交淡如水，小人之交甘若醴"</span>;</span><br><span class="line"><span class="keyword">var</span> newStr = text.replace(reg,<span class="string">"$$"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newStr); <span class="comment">// 君子之交$小人之交甘若醴</span></span><br></pre></td></tr></table></figure>
<h5 id="amp-：插入整个匹配"><a href="#amp-：插入整个匹配" class="headerlink" title="$&amp;：插入整个匹配"></a><code>$&amp;</code>：插入整个匹配</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/.&#123;2&#125;水(.)/</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"君子之交淡如水，小人之交甘若醴"</span>;</span><br><span class="line"><span class="keyword">var</span> newStr = text.replace(reg,<span class="string">"$&amp;"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newStr); <span class="comment">// 君子之交淡如水，小人之交甘若醴</span></span><br></pre></td></tr></table></figure>
<h5 id="：插入匹配项前面的字符串"><a href="#：插入匹配项前面的字符串" class="headerlink" title="$`：插入匹配项前面的字符串"></a>$`：插入匹配项前面的字符串</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/.&#123;2&#125;水(.)/</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"君子之交淡如水，小人之交甘若醴"</span>;</span><br><span class="line"><span class="keyword">var</span> newStr = text.replace(reg,<span class="string">"$`"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newStr); <span class="comment">// 君子之交君子之交小人之交甘若醴</span></span><br></pre></td></tr></table></figure>
<h5 id="39-：插入匹配项后面的字符串"><a href="#39-：插入匹配项后面的字符串" class="headerlink" title="$&#39;：插入匹配项后面的字符串"></a><code>$&#39;</code>：插入匹配项后面的字符串</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/.&#123;2&#125;水(.)/</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"君子之交淡如水，小人之交甘若醴"</span>;</span><br><span class="line"><span class="keyword">var</span> newStr = text.replace(reg,<span class="string">"$'"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newStr); <span class="comment">// 君子之交小人之交甘若醴小人之交甘若醴</span></span><br></pre></td></tr></table></figure>
<h5 id="Y：插入第Y个捕获的组"><a href="#Y：插入第Y个捕获的组" class="headerlink" title="$Y：插入第Y个捕获的组"></a><code>$Y</code>：插入第Y个捕获的组</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/.&#123;2&#125;水(.)/</span>;</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"君子之交淡如水，小人之交甘若醴"</span>;</span><br><span class="line"><span class="keyword">var</span> newStr = text.replace(reg,<span class="string">"$1"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newStr); <span class="comment">// 君子之交，小人之交甘若醴</span></span><br></pre></td></tr></table></figure>
<h2 id="正则表达式实例的方法"><a href="#正则表达式实例的方法" class="headerlink" title="正则表达式实例的方法"></a>正则表达式实例的方法</h2><h4 id="exec-最主要的方法"><a href="#exec-最主要的方法" class="headerlink" title="exec()    最主要的方法"></a>exec()    最主要的方法</h4><p>此方法专门为捕获组设计的。此方法接收一个参数，及需要测试的<code>字符串</code>。返回数组或者是null。但返回的值包含两个额外的属性：<br><code>index</code>：匹配性在字符串中的位置<br><code>input</code>：应用正则的表达式<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/你(我他(与她))/</span></span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"你我他与她"</span>;</span><br><span class="line"><span class="keyword">var</span> res = reg.exec(text);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">//(3) ["你我他与她", "我他与她", "与她", index: 0, input: "你我他与她"]</span></span><br></pre></td></tr></table></figure></p>
<p><code>[&quot;你我他与她&quot;, &quot;我他与她&quot;, &quot;与她&quot;, index: 0, input: &quot;你我他与她&quot;]</code>的结果。使用<code>res[下标]</code>可以查看具体的匹配下。<code>从第二项开始才是捕获项</code>。使用<code>res.index</code>与<code>res.input</code>查看起始位置与匹配的字符串。</p>
<p>exec()方法始终返回一项，如果设置了全局匹配<code>g</code>，只会从上一次结束的敌法继续查找，而不会返回多项。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">"bat, cat, fat"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/.at/</span>;</span><br><span class="line"><span class="keyword">var</span> res = reg1.exec(text);</span><br><span class="line"><span class="built_in">console</span>.log(res.index);	<span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(res[<span class="number">0</span>]);	<span class="comment">// bat</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> res = reg1.exec(text);</span><br><span class="line"><span class="built_in">console</span>.log(res.index);	<span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(res[<span class="number">0</span>]);	<span class="comment">// bat</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/.at/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> res = reg2.exec(text);</span><br><span class="line"><span class="built_in">console</span>.log(res.index);	<span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(res[<span class="number">0</span>]);	<span class="comment">// bat</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> res = reg2.exec(text);</span><br><span class="line"><span class="built_in">console</span>.log(res.index);	<span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log(res[<span class="number">0</span>]);	<span class="comment">// cat</span></span><br></pre></td></tr></table></figure></p>
<h4 id="test-方法"><a href="#test-方法" class="headerlink" title="test()方法"></a>test()方法</h4><p>接收一个字符串作为参数，返回：<br><code>true</code>：匹配<br><code>false</code>：不匹配<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">"abcd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> reg1 = <span class="regexp">/\D/g</span>;</span><br><span class="line"><span class="keyword">var</span> reg2 = <span class="regexp">/\s/g</span>;</span><br><span class="line"><span class="keyword">var</span> res1 = reg1.test(text);</span><br><span class="line"><span class="built_in">console</span>.log(res1);	<span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> res2 = reg2.test(text);</span><br><span class="line"><span class="built_in">console</span>.log(res2);	<span class="comment">// false</span></span><br></pre></td></tr></table></figure></p>
<h2 id="关于使用RegExp构造函数"><a href="#关于使用RegExp构造函数" class="headerlink" title="关于使用RegExp构造函数"></a>关于使用RegExp构造函数</h2><p>语法：<code>var reg = new RegExp(参数1[,参数2])</code>;<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\D"</span>,<span class="string">"gi"</span>);</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"ABd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = reg.exec(text);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["d", index: 2, input: "ABd1234"]</span></span><br></pre></td></tr></table></figure></p>
<p>看上面的例子。两个参数需要使用<code>字符串</code>。<br>但是，上面的例子有一个问题。没有按照我们所想的出现一个<code>A</code>，而是一个<code>d</code>。同时，我们忽略大小写在看一下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\D"</span>,<span class="string">"g"</span>);</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"ABd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = reg.exec(text);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// null</span></span><br></pre></td></tr></table></figure></p>
<p>所以，使用构造函数还有一个需要注意的就是<code>所有的元字符都需要双重转义</code>。将上面的代码换为下面的看看<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"\\D"</span>,<span class="string">"g"</span>);</span><br><span class="line"><span class="keyword">var</span> text = <span class="string">"ABd1234"</span>;</span><br><span class="line"><span class="keyword">var</span> res = reg.exec(text);</span><br><span class="line"><span class="built_in">console</span>.log(res); <span class="comment">// ["A", index: 0, input: "ABd1234"]</span></span><br></pre></td></tr></table></figure></p>
<p>注意上面的<code>\\D</code>。这个才表示一个元字符。刚刚的就是一个<code>\</code>一个<code>D</code>。所以。在正则的构造函数中使用<code>元字符</code>需要<code>双重转义</code>。</p>
<h2 id="附上几个常用的正则匹配"><a href="#附上几个常用的正则匹配" class="headerlink" title="附上几个常用的正则匹配"></a>附上几个常用的正则匹配</h2><p>电话号码匹配：<code>/^1[3-8]\d{9}$/</code><br>电子邮件：<code>/[a-zA-z0-9_-]{6,12}@[a-zA-z0-9_-]+\.[a-zA-z0-9]+/</code><br>匹配特定了的邮件：<code>/[a-zA-z0-9_-]{6,12}@(163|qq|gmail)\.com/</code></p>
<p>更多的匹配可查阅：<a href="http://www.cnblogs.com/zxin/archive/2013/01/26/2877765.html" target="_blank" rel="noopener">最全的常用正则表达式大全</a></p>
<p>以上就是关于正则的一些使用概念以及使用方法。如果想要熟练的使用正则去匹配或者是修改字符串。还是需要不断的练习才是。</p>
</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">踏浪</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://blog.lyt007.cn/技术/javascript正则表达式.html">https://blog.lyt007.cn/技术/javascript正则表达式.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://blog.lyt007.cn">踏浪 - 前端技术分享</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/js/">js</a></div><div class="post-qr-code"><div class="post-qr-code-item"><img class="post-qr-code__img" src="/img/alipay.jpg"><div class="post-qr-code__desc">支付宝</div></div><div class="post-qr-code-item"><img class="post-qr-code__img" src="/img/wechatpay.png"><div class="post-qr-code__desc">微信打赏</div></div></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5cdd1b7c28eeaa67" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/技术/react-native修改APP的名字与图标.html"><i class="fa fa-chevron-left">  </i><span>react-native修改APP的名字与图标</span></a></div><div class="next-post pull-right"><a href="/技术/javascript加载数据简述.html"><span>javascript加载数据简述</span><i class="fa fa-chevron-right"></i></a></div></nav><div id="lv-container" data-id="city" data-uid="MTAyMC80MzU5OC8yMDEzNw=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></div><footer class="footer-bg" style="background-image: url(/img/top-img.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2020 By 踏浪</div><div class="framework-info"><span>驱动 - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="footer_custom_text">蜀ICP备19000202号</div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div><script>var cnzz_protocol = (("https:" == document.location.protocol) ? "https://" : "http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1271259829'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s13.cnzz.com/z_stat.php%3Fid%3D1271259829%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script src="/js/search/algolia.js"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script><div class="search-dialog" id="algolia-search"><div class="search-dialog__title" id="algolia-search-title">Algolia</div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>